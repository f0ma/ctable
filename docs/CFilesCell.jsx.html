<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: CFilesCell.jsx</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: CFilesCell.jsx</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Files column with download option.
 *
 * @arg this.props.value {String} String in `id;size;name` format
 *
 */

class CFilesCell extends Component {

    constructor() {
        super();

        this.onDownloadClicked = this.onDownloadClicked.bind(this);
    }

    size_to_text(n){
        if(n &lt;= 1024){
            return N_("%d Byte","%d Bytes", n)
        } else if (n &lt;= 1024*1024) {
            return N_("%d KiB","%d KiB", Math.round(n/1024))
        } else if (n &lt;= 1024*1024*1024) {
            return N_("%d MiB","%d MiB", Math.round(n/1024/1024))
        }
        return N_("%d GiB","%d GiB", Math.round(n/1024/1024/1024))
    }

    onDownloadClicked(e){
        var tg = unwind_button_or_link(e);
        this.props.onDownloadFile(this.props.row, tg.dataset['column'], tg.dataset['index']);
        e.stopPropagation();
    }


    render() {
        var self = this;

        var files = [];

        if (this.props.value !== null &amp;&amp; this.props.value !== ""){
            var mfiles = this.props.value.split(";");
            mfiles.forEach(x => {
                var w = x.split(':');
                files.push({file:w[0], size:w[1], name:w[2]});
            });
        }

        return &lt;>{this.props.value === null ? &lt;span class="has-text-grey">NULL&lt;/span> : files.map((x,i) => {
            return &lt;button class="button is-small" title={x.name + " (" + self.size_to_text(x.size) + ")"} data-column={self.props.column.name} data-index={i} onClick={self.onDownloadClicked}>
              &lt;span class="material-symbols-outlined-small">download&lt;/span>
            &lt;/button>;
        })}&lt;/>;
    }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="CBoolCell.html">CBoolCell</a></li><li><a href="CColumnsPanel.html">CColumnsPanel</a></li><li><a href="CDateCell.html">CDateCell</a></li><li><a href="CEditorFrame.html">CEditorFrame</a></li><li><a href="CEditorPanel.html">CEditorPanel</a></li><li><a href="CFilesCell.html">CFilesCell</a></li><li><a href="CFilesEditor.html">CFilesEditor</a></li><li><a href="CFilterPanel.html">CFilterPanel</a></li><li><a href="CHeaderTable.html">CHeaderTable</a></li><li><a href="CLineEditor.html">CLineEditor</a></li><li><a href="CLinkCell.html">CLinkCell</a></li><li><a href="CLinkEditor.html">CLinkEditor</a></li><li><a href="CMultiLinkCell.html">CMultiLinkCell</a></li><li><a href="CMultiLinkEditor.html">CMultiLinkEditor</a></li><li><a href="CMultilineTextCell.html">CMultilineTextCell</a></li><li><a href="CNumbersCell.html">CNumbersCell</a></li><li><a href="CPageTable.html">CPageTable</a></li><li><a href="CPlainTextCell.html">CPlainTextCell</a></li><li><a href="CSelectCell.html">CSelectCell</a></li><li><a href="CSelectEditor.html">CSelectEditor</a></li><li><a href="CSortingPanel.html">CSortingPanel</a></li><li><a href="CTable.html">CTable</a></li><li><a href="CTagsCell.html">CTagsCell</a></li></ul><h3>Events</h3><ul><li><a href="CEditorFrame.html#event:cteditorreset">cteditorreset</a></li><li><a href="CEditorFrame.html#event:cteditortonull">cteditortonull</a></li><li><a href="CEditorFrame.html#event:cteditorundo">cteditorundo</a></li><li><a href="CTable.html#event:cteditorchanged">cteditorchanged</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Tue Nov 04 2025 14:55:15 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
